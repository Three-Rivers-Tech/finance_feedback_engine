# ============================================================
# Finance Feedback Engine 2.0 - STAGING Environment
# ============================================================
# Copy this file to .env.staging and fill in actual values
# Staging uses sandbox/practice APIs for safe testing
# ============================================================

# ============================================================
# ENVIRONMENT
# ============================================================
ENVIRONMENT="staging"

# ============================================================
# ALPHA VANTAGE API
# ============================================================
ALPHA_VANTAGE_API_KEY="your_alphavantage_key"

# ============================================================
# TRADING PLATFORM - STAGING (SANDBOX)
# ============================================================
TRADING_PLATFORM="coinbase_advanced"  # or "oanda"

# ============================================================
# COINBASE CREDENTIALS - STAGING (SANDBOX)
# ============================================================
COINBASE_API_KEY="your_sandbox_coinbase_key"
COINBASE_API_SECRET="your_sandbox_coinbase_secret"
COINBASE_USE_SANDBOX="true"  # IMPORTANT: Sandbox mode for staging

# ============================================================
# OANDA CREDENTIALS - STAGING (PRACTICE)
# ============================================================
OANDA_API_KEY="your_practice_oanda_token"
OANDA_ACCOUNT_ID="your_practice_oanda_account"
OANDA_ENVIRONMENT="practice"  # IMPORTANT: Practice mode for staging

# ============================================================
# DECISION ENGINE - STAGING
# ============================================================
DECISION_ENGINE_AI_PROVIDER="local"
DECISION_ENGINE_MODEL_NAME="llama3.2:3b-instruct-q4_0"
DECISION_ENGINE_DECISION_THRESHOLD="0.75"  # Moderate threshold for testing

# ============================================================
# MONITORING - STAGING (ENABLED)
# ============================================================
MONITORING_ENABLED="true"
MONITORING_PULSE_INTERVAL_SECONDS="30"  # More frequent monitoring

# ============================================================
# ERROR TRACKING - STAGING
# ============================================================
ERROR_TRACKING_ENABLED="true"
ERROR_TRACKING_BACKEND="sentry"
SENTRY_DSN="https://your_staging_sentry_dsn@sentry.io/project"
SENTRY_TRACES_SAMPLE_RATE="0.5"  # 50% sampling for staging
SENTRY_ENVIRONMENT="staging"

# ============================================================
# LOGGING - STAGING (DEBUG)
# ============================================================
LOGGING_LEVEL="DEBUG"  # Verbose logging for staging
LOGGING_STRUCTURED_ENABLED="true"
LOGGING_STRUCTURED_FORMAT="json"
LOGGING_CONSOLE_ENABLED="true"
LOGGING_FILE_ENABLED="true"

# ============================================================
# AGENT MODE - STAGING
# ============================================================
AGENT_AUTONOMOUS_ENABLED="false"  # Manual approval in staging
AGENT_APPROVAL_POLICY="manual"
AGENT_AUTO_RESTART_ON_ERROR="true"

# ============================================================
# RISK MANAGEMENT - STAGING (RELAXED)
# ============================================================
SAFETY_MAX_LEVERAGE="2.0"
SAFETY_MAX_POSITION_PCT="0.20"  # Larger positions OK in sandbox
SAFETY_CIRCUIT_BREAKER_ENABLED="true"

# ============================================================
# API AUTHENTICATION
# ============================================================
API_AUTH_ENABLED="true"
FINANCE_FEEDBACK_API_KEY="staging_api_key_change_me"

# ============================================================
# JWT CONFIGURATION
# ============================================================
JWT_SECRET_KEY="staging_jwt_secret_change_me"
JWT_ALGORITHM="HS256"
JWT_ACCESS_TOKEN_EXPIRE_MINUTES="60"  # Longer expiry for testing

# ============================================================
# TELEGRAM - STAGING (OPTIONAL)
# ============================================================
TELEGRAM_ENABLED="false"  # Usually disabled in staging
TELEGRAM_BOT_TOKEN=""
TELEGRAM_CHAT_ID=""

# ============================================================
# OBSERVABILITY - STAGING
# ============================================================
TRACING_ENABLED="true"
OBSERVABILITY_ENABLED="true"
OBSERVABILITY_BACKEND="console"  # Console output for staging
OBSERVABILITY_EXPORT_PROMETHEUS="true"

# ============================================================
# DEPLOYMENT PORTS - STAGING
# ============================================================
BACKEND_PORT="8001"  # Different ports from production
FRONTEND_PORT="8081"
PROMETHEUS_PORT="9091"
GRAFANA_PORT="3002"

# ============================================================
# GRAFANA - STAGING
# ============================================================
GRAFANA_ADMIN_USER="admin"
GRAFANA_ADMIN_PASSWORD="admin"  # Simple password OK for staging

# ============================================================
# TESTING FLAGS
# ============================================================
SIGNAL_ONLY_DEFAULT="false"
PAPER_TRADING_MODE="false"  # Sandbox APIs are already safe

# ============================================================
# PERSISTENCE
# ============================================================
PERSISTENCE_ENABLED="true"
PERSISTENCE_STORAGE_PATH="/app/data/decisions"
PERSISTENCE_MAX_DECISIONS="5000"  # Smaller limit for staging
