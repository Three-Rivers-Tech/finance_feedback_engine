# Finance Feedback Engine 2.0 Example Configuration

# Alpha Vantage API Configuration
# Get your free or premium API key at: https://www.alphavantage.co/support/#api-key
alpha_vantage_api_key: "YOUR_ALPHA_VANTAGE_API_KEY"

# Trading Platform Configuration
# Options: 'coinbase', 'coinbase_advanced', 'oanda'
trading_platform: "coinbase"

# Platform-specific credentials
platform_credentials:
  # For Coinbase Advanced
  api_key: "YOUR_COINBASE_API_KEY"
  api_secret: "YOUR_COINBASE_API_SECRET"
  passphrase: "YOUR_COINBASE_PASSPHRASE"  # optional
  
  # For Oanda
  # api_key: "YOUR_OANDA_API_KEY"
  # account_id: "YOUR_OANDA_ACCOUNT_ID"
  # environment: "practice"  # or 'live'

# Decision Engine Configuration
decision_engine:
  # AI Provider: 'local', 'cli', 'codex', or 'ensemble'
  # 'local' uses Llama-3.2-3B via Ollama (auto-installs)
  # 'cli' uses GitHub Copilot CLI
  # 'codex' uses Codex CLI
  # 'ensemble' uses all providers with weighted voting
  ai_provider: "local"  # local | cli | codex | qwen | ensemble
  # NOTE: If ai_provider is 'local', model_name should be an Ollama model
  #       (e.g., llama3.2:3b-instruct-fp16). The system now requires a
  #       secondary local model for robustness: `deepseek-r1:8b` will be
  #       auto-downloaded if missing. Ensure you have ~10GB free for both.
  #       If ai_provider is 'cli' or 'codex', model_name should match the
  #       CLI/Copilot model name (see docs/AI_PROVIDERS.md). Only the
  #       relevant fields are used for each provider; others are ignored.
  # Model name for local provider (Ollama)
  model_name: "llama3.2:3b-instruct-fp16"  # Default: auto-downloads on first use
  
  # Decision confidence threshold (0.0 - 1.0)
  decision_threshold: 0.7
  
  # Custom prompt template (optional)

# Backtesting Configuration (optional)
# Provides defaults for running historical strategy simulations via CLI `backtest` command.
# Set `enabled: true` to allow backtesting operations; if absent, defaults are applied safely.
backtesting:
  enabled: false            # Backtesting disabled by default to avoid accidental heavy simulations
  initial_balance: 10000    # Starting paper balance for simulations
  fee_percentage: 0.1       # Per trade fee (percent of notional)
  use_real_data: false      # Set true to fetch real Alpha Vantage historical candles (rate limits apply)
  strategy:
    name: "sma_crossover"   # Default strategy identifier
    short_window: 5         # Short SMA periods
    long_window: 20         # Long SMA periods
  rl:                       # Pseudo-RL ensemble weight adaptation (experimental)
    enabled: false
    strategy_name: "ensemble_weight_rl"
    providers: ["local", "cli", "codex", "qwen"]
    initial_weights:
      local: 0.25
      cli: 0.25
      codex: 0.25
      qwen: 0.25
    learning_rate: 0.1      # Reward update speed (0 < lr â‰¤ 1)
    weight_decay: 0.0       # Optional multiplicative decay per step

# Agent Configuration
agent:
  # --- Execution Controls ---
  autonomous_execution: false
  approval_policy: "on_new_asset"
  max_daily_trades: 5
  # Kill-switch thresholds (decimal fraction of portfolio P/L, e.g., 0.05 = 5%)
  # Stop trading if portfolio gains >= kill_switch_gain_pct (portfolio_take_profit_percentage)
  # or losses <= -kill_switch_loss_pct (portfolio_stop_loss_percentage)
  kill_switch_gain_pct: 0.05  # Corresponds to portfolio_take_profit_percentage
  kill_switch_loss_pct: 0.02  # Corresponds to portfolio_stop_loss_percentage
  
  # Initial balance for portfolio P/L calculations (e.g., if starting with a specific capital)
  initial_balance: 10000.0

  # --- Autonomous Agent Settings ---
  autonomous:
    enabled: false
    profit_target: 0.05
    stop_loss: 0.02

  # --- Strategic Goals ---
  strategic_goal: "balanced"
  risk_appetite: "medium"
  max_drawdown_percent: 0.15

  # --- Data & Analysis Controls ---
  asset_pairs: ["BTCUSD", "ETHUSD"]
  analysis_frequency_seconds: 300


