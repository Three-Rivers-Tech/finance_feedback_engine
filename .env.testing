# Finance Feedback Engine - Testing Environment Configuration
# Use: docker-compose --env-file .env.testing up

# Docker behavior
DOCKER_TARGET=runtime
PROFILE=
ENV_FILE=.env.test
BACKEND_CONTAINER=ffe-backend-test
FRONTEND_CONTAINER=ffe-frontend-test
BACKEND_COMMAND=uvicorn finance_feedback_engine.api.app:app --host 0.0.0.0 --port 8000
FRONTEND_CONTEXT=./frontend
FRONTEND_DOCKERFILE=Dockerfile
FRONTEND_COMMAND=/bin/sh -c 'envsubst < /etc/nginx/conf.d/default.conf > /tmp/nginx.conf && mv /tmp/nginx.conf /etc/nginx/conf.d/default.conf && nginx -g "daemon off;"'
VITE_API_URL=http://localhost:8000
NODE_ENV=production

# Database (required for testing)
DB_CONDITION=service_healthy
POSTGRES_USER=test_user
POSTGRES_PASSWORD=testpass
POSTGRES_DB=ffe_test
POSTGRES_PORT=5433
DATABASE_URL=postgresql+psycopg2://test_user:testpass@postgres:5433/ffe_test
DB_POOL_SIZE=5
DB_POOL_OVERFLOW=1

# GPU support
NVIDIA_COUNT=0

# Logging
LOGGING_LEVEL=INFO
MONITORING_ENABLED=true

# API Configuration
ALPHA_VANTAGE_API_KEY=test-key
BACKEND_PORT=8000
FRONTEND_PORT=80

# Nginx
BACKEND_URL=http://backend:8000
OLLAMA_URL=http://ollama:11434
GRAFANA_URL=http://grafana:3000
GZIP_LEVEL=6

# Ollama
OLLAMA_PORT=11434

# Grafana
GRAFANA_PORT=3001
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=test

# Prometheus
PROMETHEUS_PORT=9090

# Redis (required for testing)
REDIS_PORT=6379
