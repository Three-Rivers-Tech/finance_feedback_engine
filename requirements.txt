# Core dependencies
requests>=2.32.3
aiohttp>=3.11.10
aiohttp-retry>=2.8.3
python-dotenv>=1.0.0

# Data processing
# NumPy 2.2.x-2.3.x series: Validated compatible with pandas 2.2.3+ and scikit-learn 1.8.0
# Note: numpy>=2.0 required for Python 3.12+ support
# Note: captum (optional ML interpretability library) requires numpy<2.0 - exclude if using captum
# Compatibility verified 2025-12-15: pandas-ta 0.4.71b0 works with numpy 2.x
pandas>=2.2.3
numpy>=2.2.0,<2.4.0
pandas-ta>=0.3.14b0; python_version < '3.12'  # Technical analysis (Python <3.12)
pandas-ta>=0.4.71b0; python_version >= '3.12'  # Technical analysis (Python 3.12+, pure Python, no system dependencies)
matplotlib>=3.10.8
seaborn>=0.13.2

# API clients
alpha-vantage>=2.3.1
coinbase-advanced-py>=1.2.0
oandapyV20>=0.7.2

# Configuration
pyyaml>=6.0.2

# CLI
click>=8.1.7
rich>=13.9.4
packaging>=24.2
tqdm>=4.66.5

# Testing (Development)
freezegun>=1.5.2
pytest>=9.0.2
pytest-asyncio>=0.24.0
pytest-cov>=5.0.0
pytest-mock>=3.14.0

# Persistence
python-dateutil>=2.9.0

# Caching
cachetools>=6.2.3

# AI/LLM integration (optional - for future expansion)
# openai>=1.55.0
# anthropic>=0.39.0
# Machine Learning: scikit-learn 1.7.0+ has full numpy 2.x support (verified compatible with numpy 2.2.0-2.3.x)
scikit-learn>=1.7.0
tenacity>=9.0.0
ollama>=0.5.10

# Optimization & Hyperparameter Tuning
optuna>=4.2.0

# Telegram integration (Approval workflow - see docs/TELEGRAM_APPROVAL_WORKFLOW.md)
python-telegram-bot>=23.0

# ============================================================================
# WEB SERVICE ARCHITECTURE (New in v2.0)
# ============================================================================
# The engine now supports an optional web API for:
# - Telegram bot webhook endpoint (receive approval requests from users)
# - REST API for decision monitoring and portfolio status
# - Async approval queue (Redis-backed for persistence)
#
# This is OPTIONAL - CLI mode works independently without these dependencies.
# To use Telegram approval workflow:
#   1. Configure telegram.yaml (see config/telegram.yaml.example)
#   2. Start API server: uvicorn finance_feedback_engine.api.app:app
#   3. Bot auto-configures webhook via ngrok (dev) or custom domain (prod)
# ============================================================================

# FastAPI web framework (async REST API)
# Updated to support starlette 0.50+ (security patch CVE-2025-62727)
fastapi>=0.115.6

# ASGI server (runs FastAPI application)
# Updated to satisfy MCP dependency (>=0.31.1)
uvicorn[standard]>=0.34.0

# HTTP client (updated for security - urllib3 2.6+)
httpx>=0.28.1

# Security: urllib3 updated to address known vulnerability
# Note: websockets temporarily constrained by coinbase-advanced-py dependency
# See: TECHNICAL_DEBT_ANALYSIS.md for details
urllib3>=2.3.0

# Redis message broker (approval queue persistence)
# Compatible with Redis 5.x-7.x (tested with 6.2+)
# Required for: Telegram approval queue, async task coordination
redis>=5.2.1

# WebSockets for real-time features
websockets>=15.0.1
