# Core dependencies
requests>=2.31.0
aiohttp>=3.9.1
aiohttp-retry>=2.8.3
python-dotenv>=1.0.0

# Data processing
pandas>=2.0.0
numpy>=2.2.0
pandas-ta>=0.3.14b0; python_version < '3.12'  # Technical analysis (Python <3.12)
pandas-ta>=0.4.71b0; python_version >= '3.12'  # Technical analysis (Python 3.12+, pure Python, no system dependencies)
matplotlib>=3.10.8
seaborn>=0.13.2

# API clients
alpha-vantage>=2.3.1
coinbase-advanced-py>=1.2.0
oandapyV20>=0.7.2

# Configuration
pyyaml>=6.0

# CLI
click>=8.1.0
rich>=13.0.0
packaging>=21.0
tqdm>=4.66.0

# Testing (Development)
freezegun>=1.0.0
pytest>=7.4.0
pytest-asyncio>=0.21.0
pytest-cov>=4.1.0
pytest-mock>=3.11.0

# Persistence
python-dateutil>=2.8.0

# Caching
cachetools>=5.3.0

# AI/LLM integration (optional - for future expansion)
# openai>=1.0.0
# anthropic>=0.7.0
scikit-learn>=1.0.0
tenacity
ollama

# Telegram integration (Approval workflow - see docs/TELEGRAM_APPROVAL_WORKFLOW.md)
python-telegram-bot>=20.0

# ============================================================================
# WEB SERVICE ARCHITECTURE (New in v2.0)
# ============================================================================
# The engine now supports an optional web API for:
# - Telegram bot webhook endpoint (receive approval requests from users)
# - REST API for decision monitoring and portfolio status
# - Async approval queue (Redis-backed for persistence)
#
# This is OPTIONAL - CLI mode works independently without these dependencies.
# To use Telegram approval workflow:
#   1. Configure telegram.yaml (see config/telegram.yaml.example)
#   2. Start API server: uvicorn finance_feedback_engine.api.app:app
#   3. Bot auto-configures webhook via ngrok (dev) or custom domain (prod)
# ============================================================================

# FastAPI web framework (async REST API)
# Updated to support starlette 0.50+ (security patch CVE-2025-62727)
fastapi>=0.121.0

# ASGI server (runs FastAPI application)
# Updated to satisfy MCP dependency (>=0.31.1)
uvicorn[standard]>=0.31.1

# HTTP client (updated for security - urllib3 2.6+)
httpx>=0.27.0

# Redis message broker (approval queue persistence)
# Compatible with Redis 5.x-7.x (tested with 6.2+)
# Required for: Telegram approval queue, async task coordination
redis>=5.0.0,<8.0.0
